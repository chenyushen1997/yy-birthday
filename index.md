你是一位精通 Three.js、WebGL 着色器、计算机视觉（MediaPipe）以及前端交互设计的专家级开发人员。

任务目标：
请编写一个单文件 HTML 应用（Single File HTML Application）

技术栈要求：
1.  HTML/CSS: 响应式布局，黑色背景，金色主色调 UI。
2.  Three.js (v0.160+): 使用 ES Modules 和 Import Map 导入。
3.  Post-processing: 必须使用 UnrealBloomPass 实现强烈的辉光效果（Bloom）。
4.  Tween.js: 用于平滑的动画过渡。
5.  MediaPipe Hand Landmarker: 用于通过摄像头识别手势来控制 3D 场景。

功能详细需求：
阶段 1：粒子倒计时 (Intro Sequence)
  加载 3D 字体。
  创建大量金色粒子。
  粒子需要依次组成 "5", "4", "3", "2", "1", "胖胖生日快乐"。
  数字切换时，粒子需要平滑流动（Morphing）到新的位置。
  倒计时结束后，摄像机执行一个 "Warp Speed"（星际穿越）效果，粒子向后拉伸，摄像机向前冲刺。

阶段 2：烟花过场 (Fireworks Transition)
  在 Warp 效果结束后，屏幕底部发射多束 3D 烟花。
  烟花需要有升空拖尾和爆炸散开的物理效果（重力、阻力）。
  烟花结束后，平滑过渡到主场景。

阶段 3：互动数字蛋糕 (Main Scene)
  场景构成: 创建一个由成千上万个微小几何体（球体、圆柱、圆锥）组成的 3 层“蛋糕”形状。
  材质: 使用 MeshPhysicalMaterial，颜色为金色、银色、红宝石色、翡翠色。材质需要高反光和自发光。
  性能优化: 必须使用 InstancedMesh 来渲染这些几何体以保证 60FPS。
  环境: 增加漂浮的“金粉”粒子和背景星空。顶部悬浮发光的文字 "2026 祝你开心"。

阶段 4：手势交互 (MediaPipe Integration)
  在右下角显示摄像头画面的缩略图，并覆盖手部骨骼连线。
  手势逻辑:
    1.  握拳 (Fist): 所有几何体聚合成“蛋糕”形状（有序状态）。
    2.  张开手掌 (Open Hand): 所有几何体炸开/散布成一个乱序的星云球体（无序状态）。
    3.  捏合手指 (Pinch): 如果场景中有用户上传的照片，摄像机自动聚焦/放大查看照片。
    4.  手部移动: 在“散开”状态下，手部左右移动可以控制场景的旋转。

阶段 5：用户自定义 (User Input)
  提供一个“上传照片”按钮。
  用户上传图片后，将其作为纹理贴在 PlaneGeometry 上，并给图片加上金色的 3D 边框。
  这些照片混入到“蛋糕”或“星云”的粒子群中。

视觉风格 (Style Guide)：
  色调: 黑金风格 (Black & Gold)，奢华感。
  特效: 强烈的泛光 (Bloom)，景深感，高对比度。
  UI: 细线条，半透明磨砂玻璃效果，金色文字。

代码结构要求：
  请将所有 CSS、HTML 和 JavaScript 写在一个 .html 文件中。
  使用 type="module"。
  确保处理好资源加载（字体、模型）的异步逻辑，添加加载进度提示。
  处理好窗口大小调整 (Resize)。

请生成完整、可直接运行的代码。